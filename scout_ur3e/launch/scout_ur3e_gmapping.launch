<launch>
  <!-- Arguments -->
  <arg name="set_base_frame" default="scout_base_link"/>
  <arg name="set_odom_frame" default="odom"/>
  <arg name="set_map_frame"  default="map"/>


  <!-- run pointcloud_to_laserscan node -->
  <!-- <node pkg="pointcloud_to_laserscan" type="pointcloud_to_laserscan_node" name="pointcloud_to_laserscan">
      <remap from="cloud_in" to="/l515/depth/color/points"/>
      <remap from="scan" to="/scan"/>
      <param name="min_height"    type="double"    value="0.05"/>
      <param name="range_min"     type="double"    value="5"/>
      <param name="range_max"     type="double"    value="40.0"/>
      <param name="target_frame" type="string"     value="laser_frame"/>
  </node> -->

  <!-- Depth Image to Laser Scan Node -->
  <!-- <node name="depthimage_to_laserscan" pkg="depthimage_to_laserscan" type="depthimage_to_laserscan" args="">

    <remap from="image"   to="/l515/aligned_depth_to_color/image_raw"/>
    <remap from="camera_info" to="/l515/aligned_depth_to_color/camera_info"/>
    <remap from="scan" to="/scan"/>

    <param name="scan_height"     type="int"    value="1"/> 
    <param name="scan_time"       type="double" value="0.033"/>
    <param name="range_min"       type="double" value="0.45"/>
    <param name="range_max"       type="double" value="10.0"/>
    <param name="output_frame_id" type="str"    value="laser_frame"/>
  </node> -->

  <!-- SLAM Gmapping -->
  <node pkg="gmapping" type="slam_gmapping" name="scout_ur3e_slam_gmapping" output="screen">
    <param name="use_sim_time" value="true"/>
    <param name="base_frame" value="$(arg set_base_frame)"/>
    <param name="odom_frame" value="$(arg set_odom_frame)"/>
    <param name="map_frame"  value="$(arg set_map_frame)"/>
    <rosparam command="load" file="$(find scout_ur3e)/params/gmapping_params.yaml" />
  </node>

</launch>
